{% extends "base.html" %}
{% load static %}

{% block page-title %} 
    Profile Page
{% endblock%}

{% block css-stylesheet %}
    <link rel="stylesheet" href={% static "main_app/profile.css" %}>
{% endblock %}

{% block mainbody %}
  <div class="container text-center text-white">
    <div class="row">
      <div class="col-lg-5 profile-card">
        <div class="col-lg-12 user-card">
            <img class="profile-picture rounded-circle" width="220" height="200" src={% static "main_app/images/cat.jpg" %}>
        </div>
        <div class="col-lg-12">
          <h1 id="username">{{ user.username }}</h1>
          <h4 id="rank">Rank: Code Master</h4>
          <h4 id="coder-kai-points">Coder Kai Points: {{ user.coderkaipoints.points }}</h4>
          <div class="row justify-content-around profile-options">
            <div class="col-auto">
              <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="location.href='{% url "edit_profile" pk=user.profileinfo.pk %}'">Edit</button>
            </div>
            <div class="col-auto">
              <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="location.href='{% url "login" %}'">Delete</button>
            </div>
            <div class="col-auto">
              <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="location.href='{% url "logout" %}'">Log Out</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6 profile-info-box">
        <div class="row">
            <div class="col">
                <h3 id="profile-header">Profile</h3>
            </div>
        </div>
        <div class="row profile-row">
            <div class="col-4 profile-item bg">
                <p style="display: block;" class="profile-info-label">About:</p>
            </div>
            <div class="col-8 profile-info-answer">
                <p>{{ user.profileinfo.about_me }}</p>
            </div>
        </div>
        <div class="row profile-row">
            <div class="col-4 profile-item">
                <span class="profile-info-label">Motivations:</span>
            </div>
            <div class="col-8 profile-info-answer">
                {% for motivation in user.profileinfo.motivations.all %}
                <span class="motivation-tag">{{ motivation }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="row profile-row">
            <div class="col-4 profile-item">
                <span class="profile-info-label">Interests:</span>
            </div>
            <div class="col-8 profile-info-answer">
                {% for interest in user.profileinfo.interests.all %}
                <span class="interest-tag">{{ interest }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="row profile-row">
            <div class="col-4 profile-item">
                <span class="profile-info-label">Groups:</span>
            </div>
            <div class="col-8 profile-info-answer">
                <span>None</span>
            </div>
        </div>
      </div>
      <div class="col-lg-1">
      </div>
    </div>


    <div class="container profile-stats">
        <div class="row">
            <div class="col">
                <h3 id="stats-header">Stats</h3>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="row stat-row">
                    <div class="col stat-info-item">
                        Date Joined:
                    </div>
                    <div class="col">
                        {{ user.date_joined }}
                    </div>
                </div>
                <div class="row stat-row">
                    <div class="col stat-info-item">
                        Last Login:
                    </div>
                    <div class="col">
                        {{ user.last_login }}
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="row stat-row">
                    <div class="col stat-info-item">
                        Questions Asked:
                    </div>
                    <div class="col">
                        14
                    </div>
                </div>
                <div class="row stat-row">
                    <div class="col stat-info-item">
                        Answers Posted:
                    </div>
                    <div class="col">
                        127
                    </div>
                </div>
            </div>
        </div>
    </div>





    <div class="container highest-scoring-posts">
        <div class="row">
            <div class="col">
                <h3 id="highest-scoring-posts-header">Highest Scoring Answers</h3>
            </div>
        </div>


    </div>
  </div>
{% endblock %}